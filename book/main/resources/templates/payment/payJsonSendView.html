<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/basic">
    <th:block layout:fragment="title">
        <title>리스트 페이지</title>
    </th:block>
    <th:block layout:fragment="content">
		<div class="search_field">
			<div class="search_field_loc">
				<h5><strong>주문번호 받아서 JSON으로 전송<strong></h5>
		     </div>
		</div>
		<div class="modify_user" >
			<table>
				<colgroup>
					<col width="8%"/>
       				<col width="10%"/>
      				<col width="8%"/>
       				<col width="8%"/>
       				<col width="8%"/>
       				<col width="8%"/>
       				<col width="8%"/>
       				<col width="8%"/>
       				<col width="8%"/>
       				<col width="*%"/>
               </colgroup>
       			<tbody>
		        	<tr>
		        		<th>주문번호</th>
	   						<td>
	   							<form id="orderForm" method="post">
		       						<input type="text"  id="orderNo" name="orderNo"/> 
		       						<input type="text"  id="orderNo" name="orderName"/>
		       						<input type="text"  id="orderNo" name="orderValue"/>
	   							</form>  
	       					</td>
		    				<td>
								<ul class="buttons">
									<li><a href="#" onclick="fnJsonSend()"><img src="/images/tapCmm/search.svg"><p>전송</p></a></li>
								</ul>
		   					</td>
		   				</tr>
	   			</tbody>
	   		</table>
	   	</div>
    </th:block>
    <th:block layout:fragment="script">
        <script th:inline="javascript">
        /*<![CDATA[*/
	         function fnJsonSend(){
        		let data = $("#orderForm").serializeObject();
	        	$.ajax({
	        	    url: "/payment/payJsonSend.do",
	        	    type: "post",
	        	    data: JSON.stringify(data),
	        	    dataType: "json",
	        	    contentType:"application/json;charset=UTF-8",
	        	    async: false,
	        	    success: function(data){
	        	    },
	        	    error: function(xhr, status, error){
	        	    	alert(xhr.responseText);
	        	    },
	        	    complete: function(xhr, status){
	        	    	
	        	    }
	            });
	        }
        
        	function test(){
        		alert("ok함수");
        	}
        
        /*]]>*/
        </script>
    </th:block>
</html>